{"version":3,"sources":["sugbi/core.cljs"],"mappings":"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","names":["sugbi.core/nav-link","uri","title","page","cljs.core/deref","cljs.core._EQ_","re_frame.core.subscribe","sugbi.core/navbar","with-let79638","reagent.ratom/with-let-values","temp__5808__auto__","reagent.ratom/*ratom-context*","c__56066__auto__","reagent.debug/has-console","reagent.debug/tracking","reagent.debug/track-console","js/console","init79639","cljs.core/not","res79640","expanded?","reagent.core.atom","cljs.core.swap_BANG_","sugbi.core/about-page","sugbi.core/home-page","temp__5804__auto__","docs","markdown.core/md->html","sugbi.core/page","temp__5802__auto__","sugbi.core/navigate!","match","_","re-frame.core/dispatch","sugbi.core/router","reitit.core.router","sugbi.core/start-router!","reitit.frontend.easy/start!","sugbi.core/mount-components","re-frame.core/clear-subscription-cache!","reagent.dom.render","js/document","sugbi.core/init!","sugbi.ajax/load-interceptors!"],"sourcesContent":["(ns sugbi.core\n  (:require\n    [day8.re-frame.http-fx]\n    [reagent.dom :as rdom]\n    [reagent.core :as r]\n    [re-frame.core :as rf]\n    [goog.events :as events]\n    [goog.history.EventType :as HistoryEventType]\n    [markdown.core :refer [md->html]]\n    [sugbi.ajax :as ajax]\n    [sugbi.events]\n    [reitit.core :as reitit]\n    [reitit.frontend.easy :as rfe]\n    [clojure.string :as string])\n  (:import goog.History))\n\n(defn nav-link [uri title page]\n  [:a.navbar-item\n   {:href   uri\n    :class (when (= page @(rf/subscribe [:common/page-id])) :is-active)}\n   title])\n\n(defn navbar [] \n  (r/with-let [expanded? (r/atom false)]\n              [:nav.navbar.is-info>div.container\n               [:div.navbar-brand\n                [:a.navbar-item {:href \"/\" :style {:font-weight :bold}} \"sugbi\"]\n                [:span.navbar-burger.burger\n                 {:data-target :nav-menu\n                  :on-click #(swap! expanded? not)\n                  :class (when @expanded? :is-active)}\n                 [:span][:span][:span]]]\n               [:div#nav-menu.navbar-menu\n                {:class (when @expanded? :is-active)}\n                [:div.navbar-start\n                 [nav-link \"#/\" \"Home\" :home]\n                 [nav-link \"#/about\" \"About\" :about]]]]))\n\n(defn about-page []\n  [:section.section>div.container>div.content\n   [:img {:src \"/img/warning_clojure.png\"}]])\n\n(defn home-page []\n  [:section.section>div.container>div.content\n   (when-let [docs @(rf/subscribe [:docs])]\n     [:div {:dangerouslySetInnerHTML {:__html (md->html docs)}}])])\n\n(defn page []\n  (if-let [page @(rf/subscribe [:common/page])]\n    [:div\n     [navbar]\n     [page]]))\n\n(defn navigate! [match _]\n  (rf/dispatch [:common/navigate match]))\n\n(def router\n  (reitit/router\n    [[\"/\" {:name        :home\n           :view        #'home-page\n           :controllers [{:start (fn [_] (rf/dispatch [:page/init-home]))}]}]\n     [\"/about\" {:name :about\n                :view #'about-page}]]))\n\n(defn start-router! []\n  (rfe/start!\n    router\n    navigate!\n    {}))\n\n;; -------------------------\n;; Initialize app\n(defn ^:dev/after-load mount-components []\n  (rf/clear-subscription-cache!)\n  (rdom/render [#'page] (.getElementById js/document \"app\")))\n\n(defn init! []\n  (start-router!)\n  (ajax/load-interceptors!)\n  (mount-components))\n"]}